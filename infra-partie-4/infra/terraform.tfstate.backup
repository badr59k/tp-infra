{"version":4,"terraform_version":"1.10.6","serial":3,"lineage":"dc1cac4f-c8f6-f4f4-545d-4d8cf549c7cc","outputs":{"api_url":{"value":"http://localhost:4000","type":"string"}},"resources":[{"mode":"managed","type":"docker_container","name":"app","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["npm","start"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":null,"dns_opts":null,"dns_search":null,"domainname":"","entrypoint":["docker-entrypoint.sh"],"env":["PGDATABASE=tpdb","PGHOST=tp_pg","PGPASSWORD=appsecret","PGPORT=5432","PGUSER=app","PORT=4000","REDIS_HOST=tp_redis","REDIS_PORT=6379"],"exit_code":null,"gpus":null,"group_add":null,"healthcheck":null,"host":[],"hostname":"38f14845f477","id":"38f14845f4777dab7f2b8734b1f953573f31d852411f51cf329b98e68ca030b4","image":"tp-app:local","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":null,"logs":false,"max_retry_count":0,"memory":0,"memory_reservation":0,"memory_swap":0,"mounts":[],"must_run":true,"name":"tp_app","network_data":[{"gateway":"172.22.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.22.0.4","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"f2:06:f3:6b:46:df","network_name":"tp_net"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","mac_address":"","name":"tp_net"}],"pid_mode":"","ports":[{"external":4000,"internal":3000,"ip":"0.0.0.0","protocol":"tcp"}],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"","stop_timeout":1,"storage_opts":null,"sysctls":null,"tmpfs":null,"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[],"wait":false,"wait_timeout":60,"working_dir":"/app"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_container.postgres","docker_container.redis","docker_image.app","docker_network.net","docker_volume.pg_data","docker_volume.redis_data"]}]},{"mode":"managed","type":"docker_container","name":"postgres","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["postgres"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":[],"dns_opts":[],"dns_search":[],"domainname":"","entrypoint":["docker-entrypoint.sh"],"env":["POSTGRES_DB=tpdb","POSTGRES_PASSWORD=appsecret","POSTGRES_USER=app"],"exit_code":null,"gpus":null,"group_add":[],"healthcheck":[],"host":[],"hostname":"cc137942bb9a","id":"cc137942bb9a1035c3afd4cdde76e9d587c6b254c2625fc4a45554685a4d35ac","image":"postgres:16-alpine","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":{},"logs":false,"max_retry_count":0,"memory":0,"memory_reservation":0,"memory_swap":0,"mounts":[{"bind_options":[],"read_only":false,"source":"tp_pg_data","target":"/var/lib/postgresql/data","tmpfs_options":[],"type":"volume","volume_options":[]}],"must_run":true,"name":"tp_pg","network_data":[{"gateway":"172.22.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.22.0.3","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"a2:ea:46:5e:9c:05","network_name":"tp_net"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","mac_address":"","name":"tp_net"}],"pid_mode":"","ports":[],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"SIGINT","stop_timeout":1,"storage_opts":{},"sysctls":{},"tmpfs":{},"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[],"wait":false,"wait_timeout":60,"working_dir":"/"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_network.net","docker_volume.pg_data"]}]},{"mode":"managed","type":"docker_container","name":"redis","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["redis-server","--appendonly","yes"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":[],"dns_opts":[],"dns_search":[],"domainname":"","entrypoint":["docker-entrypoint.sh"],"env":[],"exit_code":null,"gpus":null,"group_add":[],"healthcheck":[],"host":[],"hostname":"54b795e3e861","id":"54b795e3e86163b30818ca17ba693555c4ce0683ba8d795b2d14ba26baa8a8b6","image":"redis:7-alpine","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":{},"logs":false,"max_retry_count":0,"memory":0,"memory_reservation":0,"memory_swap":0,"mounts":[{"bind_options":[],"read_only":false,"source":"tp_redis_data","target":"/data","tmpfs_options":[],"type":"volume","volume_options":[]}],"must_run":true,"name":"tp_redis","network_data":[{"gateway":"172.22.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.22.0.2","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"0e:57:c3:3d:b2:c7","network_name":"tp_net"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","mac_address":"","name":"tp_net"}],"pid_mode":"","ports":[],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"","stop_timeout":1,"storage_opts":{},"sysctls":{},"tmpfs":{},"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[],"wait":false,"wait_timeout":60,"working_dir":"/data"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_network.net","docker_volume.redis_data"]}]},{"mode":"managed","type":"docker_image","name":"app","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":0,"attributes":{"build":[{"additional_contexts":[],"auth_config":[],"build_args":{},"build_id":"","build_log_file":"","builder":"","cache_from":[],"cache_to":[],"cgroup_parent":"","context":"./../app","cpu_period":0,"cpu_quota":0,"cpu_set_cpus":"","cpu_set_mems":"","cpu_shares":0,"dockerfile":"Dockerfile","extra_hosts":[],"force_remove":false,"isolation":"","label":{},"labels":{},"memory":0,"memory_swap":0,"network_mode":"","no_cache":false,"platform":"","pull_parent":false,"remote_context":"","remove":true,"secrets":[],"security_opt":[],"session_id":"","shm_size":0,"squash":false,"suppress_output":false,"tag":[],"target":"","ulimit":[],"version":""}],"force_remove":null,"id":"sha256:46bf8263c4bf2a42d2375546c807d2de246b39b42e350c606200913804a072e2tp-app:local","image_id":"sha256:46bf8263c4bf2a42d2375546c807d2de246b39b42e350c606200913804a072e2","keep_locally":true,"name":"tp-app:local","platform":null,"pull_triggers":null,"repo_digest":"tp-app@sha256:46bf8263c4bf2a42d2375546c807d2de246b39b42e350c606200913804a072e2","timeouts":null,"triggers":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"docker_network","name":"net","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":1,"attributes":{"attachable":false,"check_duplicate":null,"driver":"bridge","id":"f65d84bfb034010b4dc454c4e1128831dea6796e6aba624c063491cfc314a5f4","ingress":false,"internal":false,"ipam_config":[{"aux_address":{},"gateway":"172.22.0.1","ip_range":"","subnet":"172.22.0.0/16"}],"ipam_driver":"default","ipam_options":{},"ipv6":false,"labels":[],"name":"tp_net","options":{"com.docker.network.enable_ipv4":"true","com.docker.network.enable_ipv6":"false"},"scope":"local"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"docker_volume","name":"pg_data","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":1,"attributes":{"cluster":[],"driver":"local","driver_opts":{},"id":"tp_pg_data","labels":[],"mountpoint":"/var/lib/docker/volumes/tp_pg_data/_data","name":"tp_pg_data"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"docker_volume","name":"redis_data","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":1,"attributes":{"cluster":[],"driver":"local","driver_opts":{},"id":"tp_redis_data","labels":[],"mountpoint":"/var/lib/docker/volumes/tp_redis_data/_data","name":"tp_redis_data"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]}],"check_results":null}
