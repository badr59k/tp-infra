{"version":4,"terraform_version":"1.10.6","serial":12,"lineage":"18789a8d-a7f1-bada-49f2-5d306e9c7a4a","outputs":{"api_url":{"value":"http://localhost:3000","type":"string"}},"resources":[{"mode":"managed","type":"docker_container","name":"api","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["npm","start"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":[],"dns_opts":[],"dns_search":[],"domainname":"","entrypoint":["docker-entrypoint.sh"],"env":["PGDATABASE=catalogue","PGHOST=pg16","PGPASSWORD=appsecret","PGPORT=5432","PGUSER=app","PORT=3000","REDIS_HOST=redis7","REDIS_PORT=6379"],"exit_code":null,"gpus":null,"group_add":[],"healthcheck":[],"host":[],"hostname":"4dc6fb3e8427","id":"4dc6fb3e84279d93b144bb36781192f923988741cdabbcf2468b525594803864","image":"sha256:f46645f56c59b9c7acbd8d22df2fec53828a8350419259cabd4b02b75ae9b825","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":{},"logs":false,"max_retry_count":0,"memory":0,"memory_reservation":0,"memory_swap":0,"mounts":[],"must_run":true,"name":"catalogue-api","network_data":[{"gateway":"172.21.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.21.0.4","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"f2:03:56:7c:93:34","network_name":"catalogue_net"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","mac_address":"","name":"catalogue_net"}],"pid_mode":"","ports":[{"external":3000,"internal":3000,"ip":"0.0.0.0","protocol":"tcp"}],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"","stop_timeout":1,"storage_opts":{},"sysctls":{},"tmpfs":{},"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[],"wait":false,"wait_timeout":60,"working_dir":"/app"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_container.postgres","docker_container.redis","docker_image.api","docker_network.stack_net","docker_volume.pg_data","docker_volume.redis_data"]}]},{"mode":"managed","type":"docker_container","name":"postgres","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["postgres"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":[],"dns_opts":[],"dns_search":[],"domainname":"","entrypoint":["docker-entrypoint.sh"],"env":["POSTGRES_DB=catalogue","POSTGRES_PASSWORD=appsecret","POSTGRES_USER=app"],"exit_code":null,"gpus":null,"group_add":[],"healthcheck":[],"host":[],"hostname":"6b9c8af825cd","id":"6b9c8af825cd0498f5aa8b210e6e9ee5feaaa5afa3b732d46edfccd676b3b3c3","image":"postgres:16-alpine","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":{},"logs":false,"max_retry_count":0,"memory":0,"memory_reservation":0,"memory_swap":0,"mounts":[{"bind_options":[],"read_only":false,"source":"pg_data","target":"/var/lib/postgresql/data","tmpfs_options":[],"type":"volume","volume_options":[]}],"must_run":true,"name":"pg16","network_data":[{"gateway":"172.21.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.21.0.2","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"5a:ea:62:39:3c:0c","network_name":"catalogue_net"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","mac_address":"","name":"catalogue_net"}],"pid_mode":"","ports":[],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"SIGINT","stop_timeout":1,"storage_opts":{},"sysctls":{},"tmpfs":{},"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[],"wait":false,"wait_timeout":60,"working_dir":"/"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_network.stack_net","docker_volume.pg_data"]}]},{"mode":"managed","type":"docker_container","name":"redis","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["redis-server","--appendonly","yes"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":[],"dns_opts":[],"dns_search":[],"domainname":"","entrypoint":["docker-entrypoint.sh"],"env":[],"exit_code":null,"gpus":null,"group_add":[],"healthcheck":[],"host":[],"hostname":"ebe23995f04e","id":"ebe23995f04e1ef51082bf08da8345106c39d5e8c2b2c587efda1429553595b5","image":"redis:7-alpine","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":{},"logs":false,"max_retry_count":0,"memory":0,"memory_reservation":0,"memory_swap":0,"mounts":[{"bind_options":[],"read_only":false,"source":"redis_data","target":"/data","tmpfs_options":[],"type":"volume","volume_options":[]}],"must_run":true,"name":"redis7","network_data":[{"gateway":"172.21.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.21.0.3","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"ee:28:51:00:60:3e","network_name":"catalogue_net"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","mac_address":"","name":"catalogue_net"}],"pid_mode":"","ports":[],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"","stop_timeout":1,"storage_opts":{},"sysctls":{},"tmpfs":{},"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[],"wait":false,"wait_timeout":60,"working_dir":"/data"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_network.stack_net","docker_volume.redis_data"]}]},{"mode":"managed","type":"docker_image","name":"api","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":0,"attributes":{"build":[{"additional_contexts":[],"auth_config":[],"build_args":{},"build_id":"","build_log_file":"","builder":"","cache_from":[],"cache_to":[],"cgroup_parent":"","context":"./api","cpu_period":0,"cpu_quota":0,"cpu_set_cpus":"","cpu_set_mems":"","cpu_shares":0,"dockerfile":"Dockerfile","extra_hosts":[],"force_remove":false,"isolation":"","label":{},"labels":{},"memory":0,"memory_swap":0,"network_mode":"","no_cache":false,"platform":"","pull_parent":false,"remote_context":"","remove":true,"secrets":[],"security_opt":[],"session_id":"","shm_size":0,"squash":false,"suppress_output":false,"tag":[],"target":"","ulimit":[],"version":""}],"force_remove":null,"id":"sha256:f46645f56c59b9c7acbd8d22df2fec53828a8350419259cabd4b02b75ae9b825catalogue-api:stable","image_id":"sha256:f46645f56c59b9c7acbd8d22df2fec53828a8350419259cabd4b02b75ae9b825","keep_locally":true,"name":"catalogue-api:stable","platform":null,"pull_triggers":null,"repo_digest":"catalogue-api@sha256:f46645f56c59b9c7acbd8d22df2fec53828a8350419259cabd4b02b75ae9b825","timeouts":null,"triggers":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"docker_network","name":"stack_net","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":1,"attributes":{"attachable":false,"check_duplicate":null,"driver":"bridge","id":"b98ff3b7735404e972e3d53faf20214e94664be8ad3d75366da50ce2a3fe1aa7","ingress":false,"internal":false,"ipam_config":[{"aux_address":{},"gateway":"172.21.0.1","ip_range":"","subnet":"172.21.0.0/16"}],"ipam_driver":"default","ipam_options":{},"ipv6":false,"labels":[],"name":"catalogue_net","options":{"com.docker.network.enable_ipv4":"true","com.docker.network.enable_ipv6":"false"},"scope":"local"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"docker_volume","name":"pg_data","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":1,"attributes":{"cluster":[],"driver":"local","driver_opts":{},"id":"pg_data","labels":[],"mountpoint":"/var/lib/docker/volumes/pg_data/_data","name":"pg_data"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"docker_volume","name":"redis_data","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":1,"attributes":{"cluster":[],"driver":"local","driver_opts":{},"id":"redis_data","labels":[],"mountpoint":"/var/lib/docker/volumes/redis_data/_data","name":"redis_data"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]}],"check_results":null}
